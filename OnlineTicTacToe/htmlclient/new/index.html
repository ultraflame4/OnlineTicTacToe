<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>OnlineTicTacToe</title>
    
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/gridTable.css">
    <link rel="stylesheet" href="css/configmenu.css">
    
    <script src="https://unpkg.com/peerjs@1.3.1/dist/peerjs.min.js"></script>
    <script type="text/javascript" src="../js/gridTable.js"></script>
    <script type="text/javascript" src="../js/configmenu.js"></script>
    <script type="text/javascript" src="../js/gameManager.js"></script>
    <script type="text/javascript" src="../js/network.js"></script>
</head>
<body>
<div class="column" style="width: 100%;height: fit-content">
    <div id="content_container" class="row" style="flex-grow: 1;align-items: flex-start;flex-wrap: wrap;justify-content: center">
        <div id="gridTableContainer" class="column">
            <div class="row gridTableRow">
                <button class="gridTableSquare" data-state="0" data-index="0">0</button>
                <button class="gridTableSquare" data-state="0" data-index="1">1</button>
                <button class="gridTableSquare" data-state="0" data-index="2">2</button>
            </div>
            <div class="row gridTableRow">
                <button class="gridTableSquare" data-state="0" data-index="3">3</button>
                <button class="gridTableSquare" data-state="0" data-index="4">4</button>
                <button class="gridTableSquare" data-state="0" data-index="5">5</button>
            </div>
            <div class="row gridTableRow">
                <button class="gridTableSquare" data-state="0" data-index="6">6</button>
                <button class="gridTableSquare" data-state="0" data-index="7">7</button>
                <button class="gridTableSquare" data-state="0" data-index="8">8</button>
            </div>
            
            <script>
                getGridTableSquares() // Get grid Table squares
            </script>
        </div>
        <div id="configMenuContainer" class="column">
            <div class="row" id="configMenuTabContainer">
                <div class="configMenuTab" id="menuMainButton" data-state="inactive" onclick="openMainMenu()">Main</div>
                <div class="configMenuTab" id="menuGameButton" data-state="inactive" onclick="openGameInfoMenu()">Game</div>
                <div class="configMenuTab" id="menuHostButton" data-state="inactive" onclick="openHostMenu()">Host</div>
                <div class="configMenuTab" id="menuJoinButton" data-state="inactive" onclick="openJoinMenu()">Join</div>
            </div>
            
            <div class="column" id="configMenuContentContainer">
                <div id="MainMenuPage" class="menuPage column" hidden="hidden">
                    <br>
                    <div class="row" style="justify-items: center;align-items: center">
                        <label>Nickname: </label>
                        <input type="text" id="username_in" placeholder="Enter name" value="Unnamed player" style="flex-grow: 1;height: 7vmin">
                    </div>
                    <h1>Singleplayer</h1>
                    <button type="button" id="MMPlay" class="mainmenubutton" onclick="startgame(0)">Play</button>
                    
                    <h1>Multiplayer</h1>
                    
                    <button type="button" id="MMJoin" class="mainmenubutton" onclick="openJoinMenu()">Join Game</button>
                    <br>
                    <button type="button" id="MMHost" class="mainmenubutton" onclick="openHostMenu()">Host & Play</button>
                </div>
                
                <!-- Game info menu page -->
                <div id="GameInfoMenuPage" class="menuPage column" hidden="hidden">
                    <div class="row" style="justify-items: center;align-items: center;">
                        <label>Server Peer Id: </label>
                        <button id="gmmserverpeerid" style="flex-grow: 1;margin-left: 1em" onclick="prompt('Copy Server Peer Id: ',this.childNodes[0].nodeValue.trim())" class="tooltip">
                            N/A
                            <span class="tooltiptext">Click to Copy</span>
                        </button>

                    </div>
                    <br>
                    <div class="row">
                        <h1>Game Round: <span id="gameinforound">N/A</span></h1>
                    </div>
    
                    <div class="column" style="height: 30vmin">
                        <h1>Player Scores:</h1>
                        <div class="row" style="justify-content: space-between">
                            <div class="column" style="width: 49%;align-items: flex-end">
                                <div id="gameInfoPlayerName" style="font-size: 3vmin">You
                                </div>
                                <div id="gameInfoPlayerScore" style="color: #63f760;font-size: 2.9vmin">
                                    0
                                </div>
                            </div>
                            <div class="column" style="width: 49%">
                                <div id="gameInfoEnemyName" style="font-size: 3vmin">Enemy</div>
                                <div id="gameInfoEnemyScore" style="color: #ff0000;font-size: 2.9vmin">0</div>
                            </div>
                        </div>
                    </div>
                    <br>
                    <button id="roundControlbutton" onclick="roundControlButtonCallback()" disabled style="height: 10vmin">N/A</button>
                    <br>
                    <button  id="stopgameButton" onclick="stopSessionButton()" style="height: 10vmin;" disabled>End Session</button>
                    
                </div>
                
                <!-- Host Menu Page -->
                <div id="HostMenuPage" class="menuPage column">
                    <button type="button" id="HMhost" onclick="hostControlButton()" style="height: 20vmin;font-size: 6vmin">Host Game</button>
                </div>
                
                <!-- Join Menu Page -->
                <div id="joinMenuPage" class="menuPage column" hidden="hidden">
                    <div class="row" style="align-items: center">
                        <label>Server Peer Id</label>
                        <input type="text" id="serverpeerid" placeholder="Enter the server peer id" style="height: 7vmin;flex-grow: 1">
                    </div>
                    <button id="joinServer" style="margin-top: 2vmin;height: 8vmin" type="button" onclick="joinServer()">Join</button>

                </div>
            </div>
        </div>
    </div>
    <div style="margin:1em;color: #434343;font-size: 2.5vmin;flex-grow: 1;justify-content: center" class="row">
        <p>Creator: ultr42 | Github: <a href="https://github.com/ultraflame4">github.com/ultraflame4</a>
           | Website: <a href="https://ultraflame4.github.io/">ultraflame4.github.io/</a></p></div>
</div>
</body>
</html>